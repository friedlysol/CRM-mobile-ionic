<ion-card>
  <ion-card-content>   
    <ion-row>
      <ion-col size="10" class="small">
        <span class="bold">Created:</span>
        {{ utilsService.getLocalDatetime(message.created_at) }}
      </ion-col>

      <ion-col size="2">
        <div class="total-photos"
             [routerLink]="['/gallery', 'list', message.type, message.uuid]"
             [skipLocationChange]="true"
             *ngIf="message.total_photos"
        >
          <ion-badge color="medium" slot="">{{ message.total_photos}}</ion-badge>
          <ion-icon name="images-outline"></ion-icon>
        </div>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="message.completed_at">
      <ion-col class="small">
        <span class="bold">Completed:</span>
        {{ utilsService.getLocalDatetime(message.completed_at) }}
      </ion-col>
    </ion-row>

    <ion-row *ngIf="message.from_person_first_name">
      <ion-col class="small">
        <span class="bold">From:</span>
        <span>
          {{ message.from_person_first_name }} {{ message.from_person_last_name }}
        </span>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="message.person_first_name">
      <ion-col class="small">
        <span class="bold">To:</span>
        <span>
          {{ message.person_first_name }} {{ message.person_last_name }}
        </span>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="message.work_order_number">
      <ion-col class="small">
        <span class="bold">Work order:</span>
        <span>
          #{{ message.work_order_number }}
        </span>
        <ion-button
          size="small"
          color="medium"
          class="float-end"
          [routerLink]="['/work-order', 'view', message.object_uuid]">
          Go to work order
        </ion-button>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="message.client">
      <ion-col class="small">
        <span class="bold">Client:</span>
        <span>
          {{ message.client }}
        </span>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="message.address">
      <ion-col class="small">
        <span class="bold">Address:</span>
        <span>
          {{ message.address }}
        </span>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <div class="description">
          {{ message.description }}
        </div>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="showComplete">
      <ion-col>
        <ion-button
          expand="full"
          color="medium"
          (click)="onCompleteClick()">
          Complete
        </ion-button>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="showReply">
      <ion-col>
        <ion-button
          expand="full"
          color="medium"
          (click)="openFormModal()">
          Reply
        </ion-button>
      </ion-col>
    </ion-row>

  </ion-card-content>
</ion-card>