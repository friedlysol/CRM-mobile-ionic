<form class="ion-padding" [formGroup]="formGroup">

  <ion-row>
    <ion-col>
      <b>{{getTitle()}}</b>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="8">
      <ion-label>
        <b>First name:</b>
        <span class="required">*</span>
      </ion-label>
      <ion-input 
        class="ion-no-margin"
        formControlName="first_name">
      </ion-input>
      
      <ion-text 
        class="small"
        color="danger"
        *ngIf="firstNameCtrl.invalid && (firstNameCtrl.dirty || firstNameCtrl.touched)">
        This field is required
      </ion-text>

    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="8">
      <ion-label>
        <b>Last name:</b>
        <span class="required">*</span>
      </ion-label>
      <ion-input 
        class="ion-no-margin"
        formControlName="last_name">
      </ion-input>
      
      <ion-text 
        class="small"
        color="danger"
        *ngIf="lastNameCtrl.invalid && (lastNameCtrl.dirty || lastNameCtrl.touched)">
        This field is required
      </ion-text>

    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="8">

      <ion-label><b>Email:</b></ion-label>
      <ion-input 
        class="ion-no-margin"
        type="email"
        formControlName="email">
      </ion-input>

      <ion-text 
        class="small"
        color="danger"
        *ngIf="emailCtrl.invalid && emailCtrl.touched">
        This is not a valid email
      </ion-text>

    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="8">

      <ion-label><b>Phone number:</b></ion-label>
      <ion-input 
        class="ion-no-margin"
        type="tel"
        formControlName="phone_number">
      </ion-input>

    </ion-col>
  </ion-row>

  <ion-row *ngIf="injuryTypeCtrl">
    <ion-col>

      <ion-label>
        <b>Injury type:</b>
        <span class="required">*</span>
      </ion-label>
      <ion-select
        formControlName="injury_type_id"
        interface="popover">

        <ion-select-option
          *ngFor="let type of injuryTypes"
          [value]="type.id">
          {{ type.type_value }}
        </ion-select-option>

      </ion-select>

      <ion-text 
        class="small"
        color="danger"
        *ngIf="injuryTypeCtrl.invalid && (injuryTypeCtrl.dirty)">
        This field is required
      </ion-text>

    </ion-col>
  </ion-row>

  <ion-row *ngIf="bodyPartCtrl">
    <ion-col>

      <ion-label>
        <b>Body part:</b>
        <span class="required">*</span>
      </ion-label>
      <ion-select
        formControlName="body_part_id"
        interface="popover">

        <ion-select-option
          *ngFor="let type of bodyPartTypes"
          [value]="type.id">
          {{ type.type_value }}
        </ion-select-option>

      </ion-select>

      <ion-text 
        class="small"
        color="danger"
        *ngIf="bodyPartCtrl.invalid && (bodyPartCtrl.dirty)">
        This field is required
      </ion-text>

    </ion-col>
  </ion-row>

  <ion-row *ngIf="treatmentTypeCtrl">
    <ion-col>

      <ion-label>
        <b>Treatment:</b>
        <span class="required">*</span>
      </ion-label>
      <ion-select
        formControlName="treatment_type_id"
        interface="popover">

        <ion-select-option
          *ngFor="let type of treatmentTypes"
          [value]="type.id">
          {{ type.type_value }}
        </ion-select-option>

      </ion-select>

      <ion-text 
        class="small"
        color="danger"
        *ngIf="treatmentTypeCtrl.invalid && (treatmentTypeCtrl.dirty)">
        This field is required
      </ion-text>

    </ion-col>
  </ion-row>

  <ion-row *ngIf="statementCtrl">
    <ion-col>

      <ion-label>
        <b>Statement:</b>
        <span class="required">*</span>
      </ion-label>
      <ion-textarea 
        class="ion-no-margin"
        formControlName="statement"
        [autoGrow]="true">
      </ion-textarea>
      
      <ion-text 
        class="small"
        color="danger"
        *ngIf="statementCtrl.invalid && (statementCtrl.dirty || statementCtrl.touched)">
        This field is required
      </ion-text>

    </ion-col>
  </ion-row>

</form>
<ion-footer>
  <ion-row>

    <ion-col>
      <ion-button expand="full" color="medium" (click)="onCancelClick()">Cancel</ion-button>
    </ion-col>

    <ion-col>
      <ion-button expand="full" color="medium" (click)="onSubmit()">Submit</ion-button>
    </ion-col>

  </ion-row>
</ion-footer>